<%- include('header') %>

<div class="container">
    <div class="search-header">
        <h1>ê²€ìƒ‰ ê²°ê³¼</h1>
        <p class="search-query">"<%= query %>"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ <%= reviews.length %>ê°œ</p>
    </div>

    <% if (reviews.length === 0) { %>
    <div class="empty-state">
        <h2>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h2>
        <p>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”.</p>
        <div class="search-tips">
            <h3>ê²€ìƒ‰ íŒ:</h3>
            <ul>
                <li>ë” ì¼ë°˜ì ì¸ í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”</li>
                <li>ì˜¤íƒ€ê°€ ì—†ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”</li>
                <li>ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”</li>
            </ul>
        </div>
        <a href="/" class="btn btn-primary">í™ˆìœ¼ë¡œ ê°€ê¸°</a>
    </div>
    <% } else { %>
    <div class="review-grid">
        <% reviews.forEach(review => { %>
        <article class="review-card">
            <a href="/reviews/<%= review.slug %>">
                <div class="review-image">
                    <img src="<%= review.featuredImage || '/images/default-review.svg' %>" alt="<%= review.title %>">
                </div>
                <div class="review-content">
                    <span class="review-category"><%= review.category %></span>
                    <h3><%= review.title %></h3>
                    <p><%= review.metaDescription || review.content.substring(0, 150) %>...</p>
                    <div class="review-meta">
                        <span class="author">by <%= review.author.username %></span>
                        <span class="date"><%= new Date(review.publishedAt || review.createdAt).toLocaleDateString('ko-KR') %></span>
                    </div>
                </div>
            </a>
        </article>
        <% }) %>
    </div>
    <% } %>

    <!-- ê´€ë ¨ ì¹´í…Œê³ ë¦¬ ì œì•ˆ -->
    <section class="related-categories">
        <h2>ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë‘˜ëŸ¬ë³´ê¸°</h2>
        <div class="category-grid">
            <a href="/reviews/category/ì „ìì œí’ˆ" class="category-card">
                <div class="category-icon">ğŸ“±</div>
                <h3>ì „ìì œí’ˆ</h3>
            </a>
            <a href="/reviews/category/ìƒí™œìš©í’ˆ" class="category-card">
                <div class="category-icon">ğŸ </div>
                <h3>ìƒí™œìš©í’ˆ</h3>
            </a>
            <a href="/reviews/category/íŒ¨ì…˜" class="category-card">
                <div class="category-icon">ğŸ‘•</div>
                <h3>íŒ¨ì…˜</h3>
            </a>
            <a href="/reviews/category/ì‹í’ˆ" class="category-card">
                <div class="category-icon">ğŸ½ï¸</div>
                <h3>ì‹í’ˆ</h3>
            </a>
        </div>
    </section>
</div>

<style>
.search-header {
    text-align: center;
    margin: 2rem 0;
}

.search-query {
    font-size: 1.125rem;
    color: #6c757d;
}

.search-tips {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 8px;
    margin: 2rem 0;
    text-align: left;
}

.search-tips h3 {
    font-size: 1rem;
    margin-bottom: 0.5rem;
}

.search-tips ul {
    list-style-position: inside;
    color: #6c757d;
}

.related-categories {
    margin-top: 4rem;
}

.related-categories h2 {
    text-align: center;
    margin-bottom: 2rem;
}
</style>

<%- include('footer') %>
